<section *ngIf="formWorkCenter">
  <h1 mat-dialog-title>{{form.title}}</h1>
  <form class="form-work-center" [formGroup]="formWorkCenter">
    <div class="row">
      <div class="col-lg-4 col-md-4 col-12">
        <mat-form-field class="w-100" appearance="outline">
          <mat-label>Identificación (Nit)</mat-label>
          <input type="text" placeholder="Seleccione uno" aria-label="Identification" matInput
            formControlName="identification" [matAutocomplete]="client">
          <mat-autocomplete autoActiveFirstOption #client="matAutocomplete"
            (optionSelected)="selectIdentification($event)">
            <mat-option *ngFor="let client of filteredClientOptions | async" [value]="client.identification">
              [{{client.identification}}] {{client.name}}
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>
        <ng-container *ngFor="let validation of validationMessages.identification">
          <mat-error class="errorMessages" *ngIf="formWorkCenter.get('identification').hasError(validation.type)
                    && (formWorkCenter.get('identification').dirty
                    || formWorkCenter.get('identification').touched)">
            {{ validation.message }}
          </mat-error>
        </ng-container>
      </div>
      <div class="col-lg-4 col-md-4 col-12">
        <mat-form-field class="w-100" appearance="outline">
          <mat-label>Nombre del centro de trabajo</mat-label>
          <input type="text" placeholder="Seleccione uno" aria-label="Operación" matInput formControlName="name"
            [matAutocomplete]="workCenters">
          <mat-autocomplete autoActiveFirstOption #workCenters="matAutocomplete">
            <mat-option *ngFor="let nameWorkCenter of filteredWorkCenterOptions | async" [value]="nameWorkCenter.name">
              {{nameWorkCenter.name}}
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>
        <ng-container *ngFor="let validation of validationMessages.name">
          <mat-error class="errorMessages" *ngIf="formWorkCenter.get('name').hasError(validation.type)
                    && (formWorkCenter.get('name').dirty
                    || formWorkCenter.get('name').touched)">
            {{ validation.message }}
          </mat-error>
        </ng-container>
      </div>
      <div class="col-lg-4 col-md-4 col-12">
        <mat-form-field class="w-100" appearance="outline">
          <mat-label>Ciudad</mat-label>
          <input required autocomplete="off" matInput placeholder="Ciudad" formControlName="city" maxlength="20">
        </mat-form-field>
        <ng-container *ngFor="let validation of validationMessages.city">
          <mat-error class="errorMessages" *ngIf="formWorkCenter.get('city').hasError(validation.type)
                    && (formWorkCenter.get('city').dirty
                    || formWorkCenter.get('city').touched)">
            {{ validation.message }}
          </mat-error>
        </ng-container>
      </div>
      <div class="col-lg-4 col-md-4 col-12">
        <mat-form-field class="w-100" appearance="outline">
          <mat-label>Código Operación</mat-label>
          <input readonly type="text" autocomplete="off" matInput placeholder="Código Operación"
            formControlName="operationCode" maxlength="20">
        </mat-form-field>
      </div>
      <div class="col-lg-4 col-md-4 col-12">
        <mat-form-field class="w-100" appearance="outline">
          <mat-label>Operación</mat-label>
          <input required type="text" autocomplete="off" matInput placeholder="Operación" formControlName="operation"
            maxlength="20">
        </mat-form-field>
        <ng-container *ngFor="let validation of validationMessages.operation">
          <mat-error class="errorMessages" *ngIf="formWorkCenter.get('operation').hasError(validation.type)
                    && (formWorkCenter.get('operation').dirty
                    || formWorkCenter.get('operation').touched)">
            {{ validation.message }}
          </mat-error>
        </ng-container>
      </div>
      <div class="col-lg-4 col-md-4 col-12">
        <mat-form-field class="w-100" appearance="outline">
          <mat-label>Dirección</mat-label>
          <input required type="text" autocomplete="off" matInput placeholder="Dirección" formControlName="address"
            maxlength="30">
        </mat-form-field>
        <ng-container *ngFor="let validation of validationMessages.address">
          <mat-error class="errorMessages" *ngIf="formWorkCenter.get('address').hasError(validation.type)
                    && (formWorkCenter.get('address').dirty
                    || formWorkCenter.get('address').touched)">
            {{ validation.message }}
          </mat-error>
        </ng-container>
      </div>
      <div class="col-lg-4 col-md-4 col-12">
        <mat-form-field class="w-100" appearance="outline">
          <mat-label>Latitud</mat-label>
          <input required type="text" autocomplete="off" matInput placeholder="Latitud" formControlName="latitude"
            maxlength="10">
        </mat-form-field>
        <ng-container *ngFor="let validation of validationMessages.latitude">
          <mat-error class="errorMessages" *ngIf="formWorkCenter.get('latitude').hasError(validation.type)
                    && (formWorkCenter.get('latitude').dirty
                    || formWorkCenter.get('latitude').touched)">
            {{ validation.message }}
          </mat-error>
        </ng-container>
      </div>
      <div class="col-lg-4 col-md-4 col-12">
        <mat-form-field class="w-100" appearance="outline">
          <mat-label>Longitud</mat-label>
          <input required type="text" autocomplete="off" matInput placeholder="Longitud" formControlName="longitude"
            maxlength="10">
        </mat-form-field>
        <ng-container *ngFor="let validation of validationMessages.longitude">
          <mat-error class="errorMessages" *ngIf="formWorkCenter.get('longitude').hasError(validation.type)
                    && (formWorkCenter.get('longitude').dirty
                    || formWorkCenter.get('longitude').touched)">
            {{ validation.message }}
          </mat-error>
        </ng-container>
      </div>
      <div class="col-lg-4 col-md-4 col-12">
        <mat-form-field class="w-100" appearance="outline">
          <mat-label>Cliente</mat-label>
          <input readonly type="text" autocomplete="off" matInput placeholder="Cliente" formControlName="client">
        </mat-form-field>
      </div>
      <div class="col-lg-4 col-md-4 col-12">
        <mat-form-field class="w-100" appearance="outline">
          <mat-label>Identificación Coordinador</mat-label>
          <input type="text" placeholder="Seleccione uno" aria-label="Identificación coordinador" matInput formControlName="coordinatorIdentification"
            [matAutocomplete]="coordinatorIdentification">
          <mat-autocomplete autoActiveFirstOption #coordinatorIdentification="matAutocomplete"
          (optionSelected)="selectIdentificationCordinator($event)">
            <mat-option *ngFor="let identificationCordinato of filteredIdentificationCordinatorOptions | async" [value]="identificationCordinato.coordinatorIdentification">
              {{identificationCordinato.coordinatorIdentification}}
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>
        <ng-container *ngFor="let validation of validationMessages.coordinatorIdentification">
          <mat-error class="errorMessages" *ngIf="formWorkCenter.get('coordinatorIdentification').hasError(validation.type)
                    && (formWorkCenter.get('coordinatorIdentification').dirty
                    || formWorkCenter.get('coordinatorIdentification').touched)">
            {{ validation.message }}
          </mat-error>
        </ng-container>
      </div>
      <div class="col-lg-4 col-md-4 col-12">
        <mat-form-field class="w-100" appearance="outline">
          <mat-label>Coordinador</mat-label>
          <input type="text" placeholder="Seleccione uno" aria-label="Coordinador" matInput formControlName="coordinator"
            [matAutocomplete]="cordinator">
          <mat-autocomplete autoActiveFirstOption #cordinator="matAutocomplete">
            <mat-option *ngFor="let nameCordinato of filteredNameCordinatorOptions | async" [value]="nameCordinato.coordinator">
              {{nameCordinato.coordinator}}
            </mat-option>
          </mat-autocomplete>
        </mat-form-field>
        <ng-container *ngFor="let validation of validationMessages.coordinator">
          <mat-error class="errorMessages" *ngIf="formWorkCenter.get('coordinator').hasError(validation.type)
                    && (formWorkCenter.get('coordinator').dirty
                    || formWorkCenter.get('coordinator').touched)">
            {{ validation.message }}
          </mat-error>
        </ng-container>
      </div>
      <div class="col-lg-4 col-md-4 col-12">
        <mat-form-field class="w-100" appearance="outline">
          <mat-label>Telefono</mat-label>
          <input required autocomplete="off" matInput placeholder="Telefono" formControlName="phone" maxlength="10">
        </mat-form-field>
        <ng-container *ngFor="let validation of validationMessages.phone">
          <mat-error class="errorMessages" *ngIf="formWorkCenter.get('phone').hasError(validation.type)
                    && (formWorkCenter.get('phone').dirty
                    || formWorkCenter.get('phone').touched)">
            {{ validation.message }}
          </mat-error>
        </ng-container>
      </div>
    </div>
  </form>
  <div mat-dialog-actions class="justify-content-center mt-3">
    <section>
      <button mat-raised-button (click)="onNoClick()">Cancelar</button>
      <button mat-raised-button color="primary" [mat-dialog-close]="formWorkCenter"
        [disabled]="!formWorkCenter.valid">Guardar</button>
    </section>
  </div>
</section>
